plugins {
    id 'java'
    id "com.iadams.sonar-packaging" version "1.0-RC1"
}

group 'jp.co.atware'
version '0.1'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

ext {
    sonarVersion = "7.1"
    okhttpVersion = "3.11.0"
    gsonVersion = "2.8.5"

    junitVersion = "4.12"
    mockitoVersion = "2.20.1"
}

dependencies {
    compileOnly "org.sonarsource.sonarqube:sonar-plugin-api:$sonarVersion"
    compile "com.squareup.okhttp3:okhttp:$okhttpVersion"
    compile "com.google.code.gson:gson:$gsonVersion"

    testCompile "org.sonarsource.sonarqube:sonar-plugin-api:$sonarVersion"
    testCompile "junit:junit:$junitVersion"
    testCompile "org.mockito:mockito-core:$mockitoVersion"
    testCompile "com.squareup.okhttp3:mockwebserver:$okhttpVersion"
}

sonarPackaging {
    pluginKey = "typetalknotifier"
    pluginClass = 'jp.co.atware.sonar.typetalknotifier.TypetalkNotifierPlugin'
    pluginName = "Typetalk notifier"
    pluginDescription = "Notify Typetalk topic about analysis result"
}
